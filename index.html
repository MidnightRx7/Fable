<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="/styles/style.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
    <title>Fable | Home</title>
    <link rel="icon" type="image/x-icon" href = "PictorialLogo.png">
</head>
     <!-- BEGIN NAVIGARION BAR  -->
     <main>
        <header>
            <div style="width: 33.33%; text-align: center;">
                <nav>
                    <ul>
                        <li><a href="index.html">Home</a></li>
                        <li>
                            <button class="dropdown-toggle">
                                <span>Shop</span><span class="dropdown-icon"><i class="fas fa-chevron-down"></i></span>
                            </button>
                            <ul class="submenu">
                                <li><a href="shop.html">Shop All</a></li>
                                <li><a href="bundle.html">Bundle</a></li>
                                <li><a href="accessory.html">Accessories</a></li>
                            </ul>
                        </li>
                        <li>
                            <button class="dropdown-toggle">
                                <span>About Us</span><span class="dropdown-icon"><i class="fas fa-chevron-down"></i></span>
                            </button>
                            <ul class="submenu">
                                <li><a href="about_us.html">About Us</a></li>
                                <li><a href="Media.html">Social Media</a></li>
                            </ul>
                        </li>
                        <li><a href="contact.html">Contact Us</a></li>
                    </ul>
                </nav>
            </div>
            
            <div style="width: 33.33%; text-align: center;">
                <a href="index.html"> <img src="Pictures/Logo2.png"width="300" height="150"/></a>
            </div>
            <div style="width: 33.33%; text-align: center;">
                <div class="center">
                    <div class="box">
                        <input type="text" id="searchInput" placeholder="Search...">
                        <a href="#">
                            <i class="fas fa-search"></i>
                        </a>
                        <div id="searchResults" class="search-results"></div>
                        <script> document.addEventListener('DOMContentLoaded', function () {
                            const searchInput = document.querySelector('.box input');
                            const searchResults = document.getElementById('searchResults');
                            const searchBox = document.querySelector('.box');
                            // Show search results when typing
                            searchInput.addEventListener('input', function () {
                                searchResults.style.display = 'block'; // Show the dropdown
                            });
                            // Show search results when hovering over the search bar
                            searchBox.addEventListener('mouseenter', function () {
                                if (searchInput.value.trim()) { // Only show results if there's text in the input
                                    searchResults.style.display = 'block';
                                }
                            });
                            // Hide search results when mouse leaves the search bar
                            searchBox.addEventListener('mouseleave', function () {
                                searchResults.style.display = 'none'; // Hide the dropdown
                            });
                        
                            // Hide search results when clicking outside of the search bar
                            document.addEventListener('click', function (event) {
                                if (!event.target.closest('.box')) {
                                    searchResults.style.display = 'none'; // Hide the dropdown if clicking outside
                                }
                            });
                        });</script>
                    </div>    
                    <script src="search.js"></script>
                    <div class="center">
                        <div class="cart-box">
                            <a href="https://portal.veinternational.org/buybuttons/us016132/cart/"> <!-- Replace with your actual cart link -->
                                <i class="fas fa-shopping-cart"></i>
                            </a>
                        </div>
                        <div class="user-box">
                            <a href=""> <!-- Replace with your actual user link -->
                                <i class="fas fa-user"></i>
                            </a>
                        </div>
                    </div>
                </div>
            </div>
        </header>
    </main>  
<body>
    
   
    <div class="containerBox">
        <div class="color-box2 large2">
            <a href="shop.html">
                <img id="image1" src="Pictures/landing pic.png" alt="Magic Bloom Image" class="active">
            </a>
            <a href="bundle.html">
                <img id="image2" src="Pictures/LandingPic2.jpg" alt="New Magic Bloom Image" class="inactive-right">
            </a>
        </div>
    </div>
    
    <script>
        function alternateImagesWithTransition() {
        const image1 = document.getElementById("image1");
        const image2 = document.getElementById("image2");

        let leftToRight = true; // Track the direction of the transition

        // Start alternating the images every 5 seconds
        setInterval(() => {
            if (leftToRight) {
                // Slide image1 out to the left, image2 in from the right
                image1.classList.remove("active");
                image1.classList.add("inactive-left");
                image2.classList.remove("inactive-right");
                image2.classList.add("active");
            } else {
                // Slide image2 out to the right, image1 in from the left
                image2.classList.remove("active");
                image2.classList.add("inactive-right");
                image1.classList.remove("inactive-left");
                image1.classList.add("active");
            }

            // Toggle the direction for the next transition
            leftToRight = !leftToRight;
        }, 5000); // Change every 5 seconds
    }

    // Start the animation
    alternateImagesWithTransition();
    </script>

    <div class="fable-box2">
        <h2 class="fable-title">Welcome to Fable</h2>
        <div class="fable-content">
            <div class="fable-section">
                <p>In our workshops, participants will be encouraged to plant their own fairy pot by selecting from a wide range of succulents and painting their own pot, thus creating a fairy pot that is unique to their character. Our attendees will embark on the journey of carefully planting each and every succulent, and painting pots that go along with their plants, which will stimulate their creativity and decrease stress levels. This activity provides for an environment that fosters both bonding and interaction among our community. After our workshop commences, attendees are invited to take home their new plant pot, which they can continue to cultivate.</p>
            </div>
            <div class="fable-section">
                <p>At Fable, we aim to encourage self-expression by offering unique and customizable fairy pots in order to address the needs of teenagers through an offline medium. Additionally, we are committed to cultivating a space where teenagers can have less stress and more joy, establishing a community where practices of self expression are encouraged. </p>
            </div>
            <div class="fable-section">
                <p>As a company that emphasizes the importance of mental health, Fable is dedicated to using creativity and personalization to promote healthy ways to better one’s mental health. By offering customizable products, we allow customers to exercise their creativity through putting together their own succulent pot that satisfies their personal preferences.  </p>
            </div>
            <div class="fable-section">
                <p>Our mission goes beyond simply providing products; we strive to create meaningful experiences that cultivate one’s well-being. Within our product, we encourage people to emphasize individuality through personalization. We offer customizable succulent fairy pots that consist of succulents and charms that the customer can pick and choose. Upon receiving their succulent kit, customers have the opportunity to build it themselves, giving them every opportunity to customize it to their exact liking. This allows for a new and exciting medium through which our customers can best express themselves.</p>
            </div>
        </div>
    </div>
    
    <!-- CSS for the layout -->
    <style>
.fable-box2 {
    grid-gap: 5px; /* Reduced grid gap to decrease spacing between items */
    padding-top: 10px;    /* Reduced top padding */
    padding-bottom: 10px; /* Reduced bottom padding */
    grid-template-columns: repeat(auto-fill, minmax(200px, 1fr));
    max-width: 1800px;
    margin-left: 50px;
    margin-right: 50px;
    background-color: #043C36;
}

.fable-title {
    font-size: 36px;
    margin-bottom: 5px; /* Reduced bottom margin to bring the title closer to content */
    color: #F7F0D4;
    text-align: center;
}

.fable-content {
    display: flex;
    justify-content: space-between;
    align-items: flex-start;
    gap: 5px; /* Reduced the gap between content sections */
    padding: 0;
}

.fable-section {
    flex: 1;
    min-width: 200px;
    max-width: 250px;
    padding: 5px; /* Reduced padding inside each section */
    text-align: left;
    box-sizing: border-box;
    margin: 5px 0; /* Reduced margin between sections */
}

.fable-section p {
    font-size: 16px;
    color: #F7F0D4;
    word-wrap: break-word;
    margin-bottom: 0; /* Removed margin at the bottom of paragraphs */
}

/* Responsive Design */
/* Consolidated media query for max-width: 900px */
@media screen and (max-width: 900px) {
    .fable-content {
        flex-direction: column; /* Stack the sections vertically on smaller screens */
        gap: 15px;
    }

    .fable-section {
        min-width: 100%; /* Ensure sections take up full width when stacked */
        padding: 10px;
    }

    div4 {
        flex-direction: column;  /* Stack items vertically on smaller screens */
        align-items: center;     /* Ensure they are centered */
        gap: 30px;               /* Increase gap between items */
    }

    .category img {
        width: 300px;            /* Resize images on smaller screens */
        height: 400px;           /* Adjust height of images */
    }

    .category h1 {
        font-size: 24px;         /* Adjust font size of h1 on small screens */
    }

    /* Optionally adjust search bar size here as well */
    .box2 input {
        width: 200px;            /* Reduce width for smaller screens */
        height: 35px;            /* Slightly reduced height */
        font-size: 12px;         /* Smaller font size */
    }

    .box2 a .fas {
        font-size: 16px;         /* Smaller icon size */
    }
}

/* Media query for screens between 900px and 1440px */
@media screen and (max-width: 1440px) and (min-width: 900px) {
    div {
        flex-direction: row;  /* Keep items in row layout on 14-inch screens */
        align-items: center;  /* Ensure they are centered */
        gap: 20px;            /* Moderate gap between items */
    }

    .category img {
        width: 350px;          /* Adjust image width slightly for better fit */
        height: 450px;         /* Adjust image height to keep proportions */
    }

    .category h1 {
        font-size: 28px;       /* Resize the heading to match the layout */
    }
}
    </style>

    <script>
        // Optionally, if you want to dynamically load product categories based on available data, use this section.
        // For now, this basic approach uses hardcoded categories (pots, plants, accessories).
    </script>
            <h5>Featured Products</h5>
            <h4>Shop selected items</h4>
            <div class="middleproducts" style="height: fit-content; width: 100%; display: flex; flex-wrap: wrap; justify-content: space-around; align-items: flex-start;">
            </div>
                </div>
                <div style="height: fit-content; width: 100%; display: flex; flex-wrap: wrap; justify-content: space-around; align-items: flex-start;">
                    <div class="middleproducts" style="height: fit-content; width: 100%; display: flex; flex-wrap: wrap; justify-content: space-around; align-items: flex-start;">
                    </div>
                </div> 
            
                <script>
                    document.addEventListener('DOMContentLoaded', function() {
                        const listEl = document.querySelector('.middleproducts');
                        const colors = ['#548F72']; // Define a color palette
            
                        // Counter to limit the displayed products to 4
                        let displayedCount = 0;
            
                        fetch("/resources/products.json")
                            .then(res => {
                                if (!res.ok) {
                                    throw new Error('Network response was not ok');
                                }
                                return res.json();
                            })
                            .then(data => {
                                data.forEach((product, index) => {
                                    if (displayedCount < 4) { // Limit the number of products
                                        const randomColorIndex = Math.floor(Math.random() * colors.length);
                                        const bgColor = colors[randomColorIndex];
            
                                        const productHTML = `
                                            <div class="product" id="productDiv${index}" style="display: flex; flex-direction: column; align-items: center; text-align: center; padding: 0; margin: 10px; border-radius: 8px; background-color: white; overflow: hidden;">
                                                <img src="${product.image}" alt="${product.title}" style="width: 100%; aspect-ratio: 1/1; object-fit: cover; margin: 0;">
                                                <div style="background-color: ${bgColor}; padding: 10px; width: 100%; box-sizing: border-box; margin-top: 10px;">
                                                    <h1 style="margin: 0; color: white;">${product.title}</h1>
                                                    <p style="margin: 10px 0 0; color: white;">${product.price}</p>
                                                </div>
                                            </div>`;
                                        listEl.insertAdjacentHTML('beforeend', productHTML);
            
                                        const productDiv = document.getElementById(`productDiv${index}`);
                                        productDiv.addEventListener('click', function() {
                                            window.location.href = `product.html?id=${encodeURIComponent(product.id)}`;
                                        });
            
                                        displayedCount++; // Increment the counter for displayed products
                                    }
                                });
                            })
                            .catch(error => {
                                console.error('Error fetching product data:', error);
                                listEl.innerHTML = '<p style="color: red;">Failed to load products. Please try again later.</p>';
                            });
                    });
                </script>
        </body>
        <div class="footer">
            <div class ="col-1"> 
                <h3>Store</h3>
                <a href="#"> Bundle</a>
                <a href="#"> Succulent</a>
                <a href="#"> Pots</a>
                <a href="#"> Accessories</a>
            </div>
            <div class="col-2">
                <h3>Contact</h3>
                <h3>1401 Fremont Ave, South Pasadena, CA 91030</h3>
                <h3> Fable.ca@veinternational.org</h3>
                <!-- Logo under col-2 contact section -->
                <div class="logo2">
                    <a href="index.html"><img src="Pictures/Logo2.png" width="200" height="130" /></a>
                    <h3> <u>Disclaimer: This Virtual Enterprise online store is for educational purposes only. (2024-2025 - Fable)</u> </h3>
                </div>
            </div>
            <div class ="col-1"> 
                <h3>About us</h3>
                <a href="about_us.html">Learn More</a>
                <a href="#"> Newsletter</a>
                <a href="about_us.html"> Our Mission</a>
                <a href="#">The Team</a>
            </div>
          </div>
          <style>
            @media screen and (max-width: 900px) {
    .footer {
        flex-direction: column;  /* Stack the columns vertically */
        align-items: center;     /* Center the columns */
    }

    .footer .col-1, .footer .col-2 {
        flex: none;              /* Prevent columns from stretching */
        width: 100%;             /* Make columns take full width */
        padding: 20px 0;
    }

    .footer .logo2 img {
        width: 150px;  /* Adjust logo size for smaller screens */
        height: auto;
    }
}
          </style>
        <script>
        document.querySelectorAll('.dropdown-toggle').forEach(toggle => {
    toggle.addEventListener('click', function(event) {
        event.stopPropagation(); // Prevent the event from bubbling up to the document

        const submenu = this.nextElementSibling; // Get the corresponding submenu
        const icon = this.querySelector('.dropdown-icon i'); // Get the icon

        // Close any other open submenus
        document.querySelectorAll('.submenu').forEach(submenuItem => {
            if (submenuItem !== submenu) {
                submenuItem.classList.remove('show'); // Close other submenus
                submenuItem.previousElementSibling.querySelector('.dropdown-icon i').style.transform = "rotate(0deg)"; // Reset rotation for other icons
            }
        });

        // Toggle the current submenu
        submenu.classList.toggle('show');

        // Rotate the icon based on submenu visibility
        if (submenu.classList.contains('show')) {
            icon.style.transform = "rotate(180deg)";
        } else {
            icon.style.transform = "rotate(0deg)";
        }
    });
});

// Close all submenus if clicked outside
document.addEventListener('click', function(event) {
    // Check if the click target is not inside any dropdown toggle
    if (!event.target.closest('.dropdown-toggle')) {
        document.querySelectorAll('.submenu').forEach(submenu => {
            submenu.classList.remove('show'); // Close all submenus
            submenu.previousElementSibling.querySelector('.dropdown-icon i').style.transform = "rotate(0deg)"; // Reset rotation for all icons
        });
    }
});
        </script>
    </body>
</html>
